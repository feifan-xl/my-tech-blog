

## process and thread

### difference

1. 根本区别: 
  - 进程是操作系统资源分配的基本单位
  - 线程是处理器任务调度和执行的基本单位
2. 资源开销
  - 进程有独立的代码和数据空间，程序间切换开销大
  - 线程是轻量级进程，同一类线程共享代码和数据空间，每个线程都有自己独立的运行栈和程序计数器（PC），线程之间切换的开销小
3. 包含关系 一个进程可以包含多个先线程
4. 内存分配 同一进程的线程共享本进程的地址空间和资源， 进程间的地址空间和资源相互独立 
5. 相互影响 一个进程崩溃后，在保护模式下不会对其他进程产生影响，但是一个线程崩溃整个进程都死掉。所以多进程要比多线程健壮

`小结`
- 进程: cpu资源分配最小单位 (能拥有资源和独立运行的最小单位)
- 线程: cpu 调度的最小单位 (是建立在进程基础上的一次程序运行单位，一个进程可以有多个线程)


### about browser
`js engine` 单线程架构  
`browser` 多线程架构


浏览器自身进程：负责与其他进程协作，主要负责浏览器应用的不同部分，如网络、内存等。
渲染进程：浏览器会为每个窗口分配一个渲染进程。在最近的一次更新中，如果够用的话，Chrome 干脆给每个窗口分配了一个进程；

chrome架构(简略):
  - GUI线程
    + 负责渲染浏览器界面
    + 当界面需要重绘
    + 与JS线程互斥
  - JS引擎线程
    + 通过js
    + 与 GUI 进程互斥
  - 事件触发线程
    + 控制事件循环
    + 如setTimeOut时（也可来自浏览器内核的其他线程,如鼠标点击、AJAX异步请求等），会将对应任务添加到事件线程中
  - 定时器触发线程
    + setTimeout 计数
    + setInterval 计数
  - 异步http请求线程
    + XMLHttpRequest

### 进程间通信

- 管道通信
- 消息队列
- 信号
- 共享内存
- 套接字

