


## h5 与 宿主 通信 

通信方式主要:
  1. url scheme
    - 通过调用 宿主 定义的 特定 url 来触发宿主的操作
    - 实现简单
    - 需先在 App 中注册 Scheme， 兼容性不佳？？
  2. JS Bridge
    - 宿主提供一个 JSBridge 接口，将原生功能暴露给 H5 页面
      - native 拼接 js字符串直接执行
      - js 调用 na 注入的 API
    - 通信灵活， 支持双向交互
    - 需注意版本兼容问题
  3. 拦截部分 浏览器 window 对象方法


## jsbridge

native 与 非native 之间的桥梁，是 双向通信的通道 

1. js -> native
  - 拦截 scheme
  - 注入API, 宿主向 运行js 的context 中注入方法

2. native -> js
  - 执行拼接 js 字符串 
  




## h5 缓起app

deeplink
  - url scheme 通用
  - universal link ios
  - app link android

1. url scheme 
  - ```[scheme:][//authority][path][?query][#fragment]```  
    - 其中 `[scheme:]` 为APP向系统注册 如`weixin://`
  - 问题
    1. 容易被app屏蔽
    2. 容易被其他app劫持
2. universal link
  - https 协议 
  - 如 ``` window.location.href = 'https://oia.zhihu.com/questions'```