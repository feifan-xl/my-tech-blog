

### 虚拟dom

使用js对象来模拟dom结构

- 为什么快: 减少了对 dom操作的次数
  - 直接访问dom属性 会导致重绘重排 开销大
  - diff结合批处理 将多次操作合并

### vue 中的 diff 
常规的两棵树间的 diff, 时间复杂度为O(n3), 但是vue中进行优化 仅为O(n)  
- 相同类型的组件产生相同的DOM结构,反之亦然
- 同一层级的组件，通过唯一标识进行区分

简略步骤:  
- 深度优先，同级比较
- 通过key进行双端比较

*diff*
- *简单diff*
  - 遍历新的子节点，去旧节点中挨个匹配
-*双端diff(vue2)*
  - 新旧首尾四个节点相比对
  - 对比成功就继续，失败就新增
-*快速diff(vue3)*
  - 先处理新旧节点相同的前置节点和后置节点
  - 然后根据节点对应关系，建立索引表，根据新旧节点顺序构造出最大递增子序列
  - 子序列为不需要移动的点，然后进行索引表遍历，不同点就是要更新的节点 

### key

在diff时，更加精确快速的找到相同的节点

